# Core environment variables for all systems

# ===== Shell Preferences =====
EDITOR=vim
VISUAL=vim
PAGER=less
LANG=en_US.UTF-8
LC_ALL=en_US.UTF-8
TERM=xterm-256color

# ===== History Settings =====
HISTSIZE=10000
HISTFILESIZE=20000
HISTCONTROL=ignoreboth:erasedups
HISTTIMEFORMAT="%F %T "

# ===== Development Tools =====
# Go settings
GOPATH=$HOME/go

# Node.js settings
NODE_ENV=development
NODE_NO_WARNINGS=1
NPM_CONFIG_AUDIT=false
NPM_CONFIG_FUND=false
NPM_CONFIG_LOGLEVEL=error

# Python settings
# PYTHONDONTWRITEBYTECODE=1
# PIPENV_VENV_IN_PROJECT=1
# VIRTUAL_ENV_DISABLE_PROMPT=1

# ===== Tool Configuration =====
# Aqua
AQUA_GLOBAL_CONFIG=$HOME/.config/aquaproj-aqua/aqua.yaml
AQUA_LOG_COLOR=always
AQUA_LOG_LEVEL=warn
AQUA_POLICY_CONFIG=$HOME/.config/aquaproj-aqua/aqua-policy.yaml
AQUA_PROGRESS_BAR=false
AQUA_ROOT_DIR=$HOME/.local/share/aquaproj-aqua

# Krew (kubectl plugins)
KREW_ROOT=$HOME/.krew

# Mise
MISE_CONFIG=$HOME/.config/mise/config.toml
MISE_GLOBAL_CONFIG=$HOME/.config/mise/config.toml
MISE_DATA_DIR=$HOME/.local/share/mise
MISE_CACHE_DIR=$HOME/.cache/mise
MISE_LOG_LEVEL=warn
MISE_LOG_FILE=$HOME/.log/mise.log
MISE_LOG_FILE_LEVEL=debug

# Kubernetes
KUBECONFIG=$HOME/.kube/config

# ===== Application Settings =====
# Enable colors for ls, grep, etc.
CLICOLOR=1
GREP_OPTIONS=--color=auto
LS_COLORS="di=34:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43"

{{ if eq .chezmoi.os "darwin" -}}
# ===== Homebrew =====
HOMEBREW_PREFIX=/opt/homebrew
HOMEBREW_CELLAR=$HOMEBREW_PREFIX/Cellar
HOMEBREW_REPOSITORY=$HOMEBREW_PREFIX
HOMEBREW_BAT=1
HOMEBREW_AUTOREMOVE=1
HOMEBREW_NO_ANALYTICS=1
HOMEBREW_NO_AUTO_UPDATE=1
HOMEBREW_NO_ENV_HINTS=1
PATH=$PATH:$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin

# macOS specific tools
PATH=$HOMEBREW_PREFIX/opt/coreutils/libexec/gnubin:$PATH
MANPATH=$HOMEBREW_PREFIX/opt/coreutils/libexec/gnuman
# # Enable keychain support for ssh
# SSH_AUTH_SOCK=$HOME/Library/Group\ Containers/2BUA8C4S2C.com.1password/t/agent.sock
# Docker/Colima configuration
# DOCKER_HOST=unix://${HOME}/.colima/default/docker.sock
# DOCKER_CONTEXT=colima

{{ else if eq .chezmoi.os "linux" -}}
# ===== Linux Tool Settings =====
# Use X11 display if available
DISPLAY=:0

# Set up XDG directories explicitly
XDG_CONFIG_HOME=$HOME/.config
XDG_CACHE_HOME=$HOME/.cache
XDG_DATA_HOME=$HOME/.local/share
XDG_STATE_HOME=$HOME/.local/state

{{ end -}}

# ===== Path Configuration =====
PATH=$AQUA_ROOT_DIR/bin:$MISE_DATA_DIR/shims:$HOME/.local/share/mise/shims:$KREW_ROOT/bin:$GOPATH/bin:$HOME/.local/bin:$PATH
